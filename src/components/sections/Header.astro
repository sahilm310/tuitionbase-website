---
import { phoneNumber, phoneNumberLink } from "../../config/constants";
const BASE_URL = import.meta.env.BASE_URL;
---

<header class="header">
    <div class="nav-container">
        <a href="/#" class="logo">
            <img
                src={`${BASE_URL}content/images/tb-logo.png`}
                alt="TuitionBase Logo"
            />
        </a>
        <nav>
            <ul class="nav-menu">
                <li><a data- href="#why-us">Why Us</a></li>
                <li><a href="#curriculum">Curriculum</a></li>
                <li><a href="#branches">Branches</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
        <div class="header-actions">
            <a href={`tel:${phoneNumberLink}`} class="phone-btn">
                <i class="fas fa-phone"></i>
                <span>{phoneNumber}</span>
            </a>
        </div>
        <button class="mobile-menu-toggle" id="mobile-menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
    </div>
</header>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const toggleButton = document.getElementById("mobile-menu-toggle");
        const navMenu = document.querySelector(".nav-menu");
        const navLinks = document.querySelectorAll(".nav-menu a");

        if (toggleButton && navMenu) {
            toggleButton.addEventListener("click", function () {
                navMenu.classList.toggle("show");
            });
        }

        // Close mobile menu when a nav link is clicked
        if (navMenu) {
            navLinks.forEach(function(link) {
                link.addEventListener("click", function() {
                    navMenu.classList.remove("show");
                });
            });
        }
    });
</script>

<style lang="scss">
    /* Header */
    .header {
        background: linear-gradient(135deg, #00acec 0%, #0bb2f0 100%);
        color: white;
        padding: 16px 0;
        position: fixed;
        width: 100%;
        top: 0;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .nav-container {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 32px;
    }

    .logo {
        display: flex;
        align-items: center;
    }

    .logo img {
        display: block;
        height: 50px;
        width: auto;
    }

    .nav-menu {
        display: flex;
        list-style: none;
        gap: 32px;
    }

    .nav-menu a {
        color: white;
        text-decoration: none;
        font-weight: 600;
        transition: opacity 0.3s;
    }

    .nav-menu a:hover {
        opacity: 0.8;
    }

    .header-actions {
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .phone-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        color: white;
        text-decoration: none;
        font-weight: 700;
    }

    /* Mobile menu toggle */
    .mobile-menu-toggle {
        display: none;
        background: none;
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
    }

    @media (max-width: 950px) {
        .logo img {
            height: 40px;
        }

        .mobile-menu-toggle {
            display: block;
        }

        .nav-menu {
            // display: none;
            display: flex;
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: linear-gradient(135deg, #00acec 0%, #0bb2f0 100%);
            flex-direction: column;
            gap: 0;
            // padding: 16px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: 0.5s max-height ease;
            pointer-events: none;
            overflow: hidden;
            max-height: 0px;
        }

        .nav-menu.show {
            max-height: 250px;
            pointer-events:all;
            // opacity: 1;
            // transition: 0.5s opacity 1s ease;
        }

        .nav-menu li {
            text-align: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-menu li:last-child {
            border-bottom: none;
        }

        .nav-container {
            padding: 0 16px;
        }

        .header-actions {
            gap: 8px;
        }

        .phone-btn span {
            display: none;
        }
    }
</style>
